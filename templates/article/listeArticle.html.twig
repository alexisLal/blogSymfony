{% extends '/blog.html.twig' %}
{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" href="{{ asset('css/blog.css') }}">
{% endblock %}
{% block main %}
	<div class="container col-xl-10 col-xxl-8 px-4 py-5">
		<div class="">
			{% if app.user %}
				<a class="btn btn-primary" href={{ path('article_create') }}>Ajouter un article</a>
			{% endif %}
			<div class="container px-4 py-5">
				<h2 class="pb-2 border-bottom">Nos articles</h2>
				<div id="da" class="row g-4 py-5 row-cols-1 row-cols-lg-3">
					{% for article in articles %}
						<div class="card" style="background-color:#DCE8F0; border-radius:20px; width:32%; margin-right: 10px; padding: 0px">
							<a href={{ path('article_show', {"id": article.id} ) }} style="text-decoration:none; color: black">
								{% if article.imageName != null %}
									<img src="{{ vich_uploader_asset(article, 'imageFile') }}" class="card-img-top" style="border-top-left-radius: 20px; border-top-right-radius: 20px">
								{% endif %}
								<div class="card-body">
									<p class="card-text">Titre de l'article :
										{{ article.titre }}</p>
									<p class="card-text">Description :
										{{ article.description }}</p>
									{% if article.creePar != null %}
										<p class="card-text">Article créé par :
											{{ article.creePar.username }}</p>
									{% endif %}
								</div>
							</a>
							{% if  app.user == article.creePar and app.user != null  %}
								<a class="btn btn-info" href={{ path('article_modif', {"id": article.id} ) }}>Modifier article</a>
								<a class="btn btn-danger" href={{ path('article_suppr', {"id": article.id} ) }}>Supprimer</a>
							{% endif %}
						</div>
					{% endfor %}
				</div>
			</div>
		</div>
	</div>
{% endblock %}


{# {% extends '/blog.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/blog.css') }}">
{% endblock %}
{% block body %}
<div class="container">
<a class ="btn btn-primary" href = {{ path('article_create') }}>Créer un article</a>
    {% for article in articles %} 
    <ul> 
        <a href = {{ path('article_show', {"id": article.id}) }}>
        <p>Titre de l'article : {{ article.titre }}</p>
        <p>Description : {{ article.description }}</p>
        </a>
        <a class ="btn btn-danger" href = {{ path('article_suppr', {"id": article.id}) }}>Supprimer</a>
    </ul>
    {% endfor %}
</div>
{% endblock %} #}
